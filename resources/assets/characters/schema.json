{
  "definitions": {
    "base_action": {
      "properties": {
        "damage": {
          "type": "integer"
        },
        "damage_type": {
          "type": "string"
        },
        "description": {
          "type": "string"
        },
        "gauge": {
          "type": "integer"
        },
        "maintained": {
          "type": "boolean"
        },
        "major": {
          "type": "integer"
        },
        "minor": {
          "type": "integer"
        },
        "score": {
          "type": "integer"
        }
      },
      "required": [
        "major",
        "minor"
      ],
      "type": "object"
    },
    "base_item": {
      "properties": {
        "concealment": {
          "type": "integer"
        },
        "description": {
          "type": "string"
        },
        "legal": {
          "type": "boolean"
        },
        "licenced": {
          "type": "boolean"
        },
        "manufacturer": {
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "price": {
          "type": "integer"
        },
        "quantity": {
          "type": "integer"
        },
        "slots": {
          "items": {
            "$ref": "#/definitions/slot"
          },
          "type": "array"
        },
        "type": {
          "type": "string"
        }
      },
      "required": [
        "name",
        "price",
        "legal",
        "licenced"
      ],
      "type": "object"
    },
    "companion": {
      "properties": {
        "actions": {
          "items": {
            "$ref": "#/definitions/base_action"
          },
          "type": "array"
        },
        "effects": {
          "$ref": "#/definitions/effect"
        },
        "skills": {
          "items": {
            "enum": [
              "Ingenierie",
              "Electronique"
            ]
          },
          "type": "array"
        },
        "stats": {
          "attaque": "integer",
          "corruption_mod": "integer",
          "firewall_mod": "integer",
          "traitement": "integer"
        }
      },
      "type": "object"
    },
    "contact": {
      "properties": {
        "connection": {
          "type": "integer"
        },
        "description": {
          "type": "string"
        },
        "loyalty": {
          "type": "integer"
        },
        "name": {
          "type": "string"
        }
      },
      "required": [
        "name",
        "loyalty",
        "connection"
      ],
      "type": "object"
    },
    "drone": {
      "allOf": [
        {
          "$ref": "#/definitions/base_item"
        },
        {
          "properties": {
            "hit": {
              "type": "integer"
            },
            "stats": {
              "properties": {
                "acceleration": {
                  "type": "integer"
                },
                "armor": {
                  "type": "integer"
                },
                "autopilot": {
                  "type": "integer"
                },
                "maniability_flat": {
                  "type": "integer"
                },
                "maniability_rough": {
                  "type": "integer"
                },
                "max_speed": {
                  "type": "integer"
                },
                "resistance": {
                  "type": "integer"
                },
                "sensors": {
                  "type": "integer"
                },
                "step": {
                  "type": "integer"
                }
              },
              "required": [
                "maniability_flat",
                "maniability_rough",
                "acceleration",
                "step",
                "max_speed",
                "autopilot",
                "resistance",
                "sensors",
                "armor"
              ],
              "type": "object"
            }
          },
          "required": [
            "hit",
            "stats"
          ]
        }
      ],
      "type": "object"
    },
    "effect": {
      "properties": {
        "description": {
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "type": {
          "type": "string"
        }
      },
      "type": "object"
    },
    "identity": {
      "properties": {
        "contacts": {
          "items": {
            "$ref": "#/definitions/contact"
          },
          "type": "array"
        },
        "description": {
          "type": "string"
        },
        "licences": {
          "items": {
            "$ref": "#/definitions/licences"
          },
          "type": "array"
        },
        "lifestyle": {
          "$ref": "#/definitions/lifestyle"
        },
        "name": {
          "type": "string"
        },
        "nuyens": {
          "type": "integer"
        },
        "price": {
          "type": "integer"
        },
        "quality": {
          "type": "string"
        }
      },
      "type": "object"
    },
    "licences": {
      "properties": {
        "name": {
          "type": "string"
        },
        "price": {
          "type": "integer"
        },
        "quality": {
          "type": "string"
        }
      },
      "required": [
        "name",
        "quality",
        "price"
      ],
      "type": "object"
    },
    "lifestyle": {
      "properties": {
        "name": {
          "type": "string"
        },
        "price": {
          "type": "integer"
        }
      },
      "required": [
        "name",
        "price"
      ],
      "type": "object"
    },
    "load_action": {
      "properties": {
        "ammo": {
          "type": "integer"
        },
        "description": {
          "type": "string"
        },
        "major": {
          "type": "integer"
        },
        "minor": {
          "type": "integer"
        }
      },
      "required": [
        "major",
        "minor",
        "ammo"
      ],
      "type": "object"
    },
    "outfit": {
      "allOf": [
        {
          "$ref": "#/definitions/base_item"
        }
      ],
      "type": "object"
    },
    "range_enum": {
      "enum": [
        "contact",
        "near",
        "short",
        "medium",
        "far"
      ],
      "type": "string"
    },
    "range_labels": {
      "patternProperties": {
        "r[0-9]*": {
          "$ref": "#/definitions/range_enum"
        }
      },
      "type": "object"
    },
    "range_scores": {
      "patternProperties": {
        ".*": {
          "type": "integer"
        }
      },
      "propertyNames": {
        "$ref": "#/definitions/range_enum"
      },
      "required": [
        "contact",
        "near",
        "short",
        "medium",
        "far"
      ],
      "type": "object"
    },
    "refer_stat": {
      "properties": {
        "score": {
          "type": "integer"
        },
        "stat": {
          "items": {
            "enum": [
              "con",
              "agi",
              "rea",
              "for",
              "vol",
              "log",
              "int",
              "cha"
            ],
            "type": "string"
          },
          "type": "array"
        }
      },
      "required": [
        "score",
        "stat"
      ],
      "type": "object"
    },
    "shot_action": {
      "properties": {
        "ammo_consumption": {
          "type": "integer"
        },
        "damage": {
          "type": "integer"
        },
        "damage_type": {
          "type": "string"
        },
        "description": {
          "type": "string"
        },
        "major": {
          "type": "integer"
        },
        "minor": {
          "type": "integer"
        },
        "ranges": {
          "$ref": "#/definitions/range_scores"
        }
      },
      "required": [
        "major",
        "minor",
        "damage",
        "damage_type",
        "ammo_consumption",
        "ranges"
      ],
      "type": "object"
    },
    "skill": {
      "properties": {
        "base": {
          "type": "integer"
        },
        "expertises": {
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        "specialisations": {
          "items": {
            "type": "string"
          },
          "type": "array"
        }
      },
      "required": [
        "base"
      ],
      "type": "object"
    },
    "skills": {
      "properties": {
        "athlétisme": {
          "$ref": "#/definitions/skill"
        },
        "combat.rapp": {
          "$ref": "#/definitions/skill"
        },
        "electronique": {
          "$ref": "#/definitions/skill"
        },
        "furtivité": {
          "$ref": "#/definitions/skill"
        },
        "ingénierie": {
          "$ref": "#/definitions/skill"
        },
        "perception": {
          "$ref": "#/definitions/skill"
        },
        "pilotage": {
          "$ref": "#/definitions/skill"
        },
        "technomancie": {
          "$ref": "#/definitions/skill"
        }
      },
      "type": "object"
    },
    "slot": {
      "properties": {
        "concealment": {
          "type": "integer"
        },
        "name": {
          "type": "string"
        },
        "size": {
          "enum": [
            "S",
            "M",
            "L",
            "XL"
          ],
          "type": "string"
        }
      },
      "required": [
        "name",
        "size"
      ],
      "type": "object"
    },
    "specific_action": {
      "allOf": [
        {
          "$ref": "#/definitions/base_action"
        },
        {
          "properties": {
            "type": {
              "enum": [
                "technomancy"
              ],
              "type": "string"
            }
          },
          "required": [
            "type"
          ]
        }
      ],
      "type": "object"
    },
    "stats": {
      "properties": {
        "action_maj": {
          "type": "integer"
        },
        "action_min": {
          "type": "integer"
        },
        "agi": {
          "type": "integer"
        },
        "agi_mod": {
          "type": "integer"
        },
        "algo": {
          "$ref": "#/definitions/refer_stat"
        },
        "cha": {
          "type": "integer"
        },
        "cha_mod": {
          "type": "integer"
        },
        "con": {
          "type": "integer"
        },
        "con_mod": {
          "type": "integer"
        },
        "def_ment": {
          "$ref": "#/definitions/refer_stat"
        },
        "def_phy": {
          "$ref": "#/definitions/refer_stat"
        },
        "edge": {
          "type": "integer"
        },
        "ess": {
          "type": "integer"
        },
        "for": {
          "type": "integer"
        },
        "for_mod": {
          "type": "integer"
        },
        "hit_over": {
          "type": "integer"
        },
        "hit_phy": {
          "type": "integer"
        },
        "hit_stun": {
          "type": "integer"
        },
        "init": {
          "$ref": "#/definitions/refer_stat"
        },
        "initiation": {
          "type": "integer"
        },
        "int": {
          "type": "integer"
        },
        "int_mod": {
          "type": "integer"
        },
        "log": {
          "type": "integer"
        },
        "log_mod": {
          "type": "integer"
        },
        "mag": {
          "type": "integer"
        },
        "max_edge": {
          "type": "integer"
        },
        "natural_heal": {
          "$ref": "#/definitions/refer_stat"
        },
        "rea": {
          "type": "integer"
        },
        "rea_mod": {
          "type": "integer"
        },
        "res": {
          "type": "integer"
        },
        "resist_ment": {
          "$ref": "#/definitions/refer_stat"
        },
        "resist_phy": {
          "$ref": "#/definitions/refer_stat"
        },
        "submersion": {
          "type": "integer"
        },
        "trad": {
          "$ref": "#/definitions/refer_stat"
        },
        "vol": {
          "type": "integer"
        },
        "vol_mod": {
          "type": "integer"
        }
      },
      "required": [
        "con",
        "agi",
        "rea",
        "for",
        "vol",
        "log",
        "int",
        "cha",
        "resist_phy",
        "resist_ment",
        "def_phy",
        "def_ment",
        "ess",
        "edge",
        "max_edge",
        "init",
        "action_maj",
        "action_min",
        "hit_phy",
        "hit_stun",
        "hit_over",
        "natural_heal"
      ],
      "type": "object"
    },
    "tech": {
      "allOf": [
        {
          "$ref": "#/definitions/base_item"
        },
        {
          "properties": {
            "stats": {
              "properties": {
                "attaque": {
                  "type": "integer"
                },
                "corruption": {
                  "type": "integer"
                },
                "firewall": {
                  "type": "integer"
                },
                "traitement": {
                  "type": "integer"
                }
              },
              "required": [
                "firewall",
                "corruption",
                "traitement",
                "attaque"
              ],
              "type": "object"
            }
          },
          "type": "object"
        }
      ],
      "type": "object"
    },
    "weapon": {
      "allOf": [
        {
          "$ref": "#/definitions/base_item"
        },
        {
          "properties": {
            "actions": {
              "allOf": [
                {
                  "properties": {
                    "recharger": {
                      "$ref": "#/definitions/load_action"
                    },
                    "tir": {
                      "$ref": "#/definitions/shot_action"
                    },
                    "tir_rafale": {
                      "$ref": "#/definitions/shot_action"
                    },
                    "tir_semi_auto": {
                      "$ref": "#/definitions/shot_action"
                    }
                  }
                },
                {
                  "additionalProperties": {
                    "$ref": "#/definitions/base_action",
                    "type": "object"
                  }
                }
              ],
              "type": "object"
            },
            "ammo": {
              "type": "integer"
            },
            "damage": {
              "type": "integer"
            },
            "damage_type": {
              "type": "string"
            },
            "range_labels": {
              "$ref": "#/definitions/range_labels"
            },
            "ranges": {
              "$ref": "#/definitions/range_scores"
            }
          }
        }
      ],
      "type": "object"
    }
  },
  "properties": {
    "actions": {
      "additionalProperties": {
        "$ref": "#/definitions/specific_action",
        "type": "object"
      },
      "type": "object"
    },
    "drones": {
      "additionalProperties": {
        "$ref": "#/definitions/drone",
        "type": "object"
      },
      "type": "object"
    },
    "effects": {
      "items": {
        "$ref": "#/definitions/effect"
      },
      "type": "array"
    },
    "identities": {
      "items": {
        "$ref": "#/definitions/identity"
      },
      "type": "array"
    },
    "knowledges": {
      "items": {
        "type": "string"
      },
      "type": "array"
    },
    "name": {
      "type": "string"
    },
    "outfits": {
      "additionalProperties": {
        "$ref": "#/definitions/outfit",
        "type": "object"
      },
      "type": "object"
    },
    "skills": {
      "$ref": "#/definitions/skills"
    },
    "sprites": {
      "additionalProperties": {
        "$ref": "#/definitions/companion",
        "type": "object"
      },
      "type": "object"
    },
    "stats": {
      "$ref": "#/definitions/stats"
    },
    "tags": {
      "items": {
        "type": "string"
      },
      "type": "array"
    },
    "tech": {
      "additionalProperties": {
        "$ref": "#/definitions/tech",
        "type": "object"
      },
      "type": "object"
    },
    "weapons": {
      "additionalProperties": {
        "$ref": "#/definitions/weapon",
        "type": "object"
      },
      "type": "object"
    }
  },
  "required": [
    "stats",
    "skills"
  ],
  "type": "object"
}